<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SiDAFI | Front Office</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 min-h-screen font-sans">
  <header class="bg-white shadow p-4 sticky top-0">
    <h1 class="text-xl font-semibold text-sky-600">ðŸ’¼ SiDAFI - Front Office & Manajemen</h1>
  </header>

  <main class="max-w-4xl mx-auto mt-6 bg-white p-6 rounded-lg shadow">
    <h2 class="text-lg font-semibold mb-4">Data Pasien</h2>
    <table class="w-full border text-sm">
      <tbody id="dataPasien" class="divide-y"></tbody>
    </table>

    <div id="biayaSection" class="mt-4"></div>
    <div id="hasilKonfirmasi" class="hidden mt-6 text-green-600 font-semibold">âœ… Data pasien telah dikonfirmasi!</div>
  </main>

  <section class="max-w-4xl mx-auto mt-8 bg-white p-6 rounded-lg shadow">
    <h2 class="text-lg font-semibold mb-4">Ringkasan Manajemen</h2>
    <ul class="text-sm list-disc ml-6 space-y-1">
      <li>Total Pasien Hari Ini: 12</li>
      <li>Total Pembayaran Tunai: Rp 1.200.000</li>
      <li>Pasien BPJS: 5 (Gratis)</li>
      <li>Asuransi Umum: 3 (Sesuai Klaim)</li>
      <li>Tunai: 4 (Manual oleh FO)</li>
    </ul>
  </section>

  <script>
    const params = new URLSearchParams(window.location.search);
    const data = Object.fromEntries(params.entries());

    const dataPasien = document.getElementById("dataPasien");
    dataPasien.innerHTML = `
      <tr><td class="p-2 font-medium">Nama</td><td class="p-2">${data.nama || "-"}</td></tr>
      <tr><td class="p-2 font-medium">Umur</td><td class="p-2">${data.umur || "-"}</td></tr>
      <tr><td class="p-2 font-medium">Jenis Kelamin</td><td class="p-2">${data.jk || "-"}</td></tr>
      <tr><td class="p-2 font-medium">Metode Pembayaran</td><td class="p-2">${data.metode || "-"}</td></tr>
      <tr><td class="p-2 font-medium">Nomor BPJS</td><td class="p-2">${data.noBPJS || "-"}</td></tr>
      <tr><td class="p-2 font-medium">Nama Asuransi</td><td class="p-2">${data.namaAsuransi || "-"}</td></tr>
      <tr><td class="p-2 font-medium">Asal Faskes</td><td class="p-2">${data.faskes || "-"}</td></tr>
      <tr><td class="p-2 font-medium">Rumah Sakit</td><td class="p-2">${data.rs || "-"}</td></tr>
    `;

    const biayaSection = document.getElementById("biayaSection");
    if (data.metode === "BPJS") {
      biayaSection.innerHTML = `<p class="text-green-600 font-semibold">âœ… Pembayaran: GRATIS (BPJS)</p>`;
    } else if (data.metode === "Asuransi Umum") {
      biayaSection.innerHTML = `<p class="text-blue-600 font-semibold">ðŸ’³ Pembayaran: Sesuai Klaim Asuransi</p>`;
    } else if (data.metode === "Tunai") {
      biayaSection.innerHTML = `
        <div class="mt-3">
          <label class="font-medium">Masukkan Nominal Pembayaran (Tunai)</label>
          <input type="number" id="nominal" class="border p-2 rounded w-full mt-1" placeholder="Contoh: 150000">
          <button id="konfirmasi" class="mt-3 bg-sky-600 text-white px-4 py-2 rounded">Konfirmasi & Proses</button>
        </div>
      `;
      document.getElementById("konfirmasi").onclick = () => {
        const nominal = document.getElementById("nominal").value;
        if (!nominal) return alert("Masukkan nominal pembayaran!");
        document.getElementById("hasilKonfirmasi").classList.remove("hidden");
      };
    }
  </script>
</body>
</html>
